<div class="container" *ngIf="asset">
  <div *ngIf="asset.image" class="asset-picture" [ngStyle]="{'background-image': 'url(' + asset.image + ')'}"></div>
  <div class="title">
    <a routerLink="/private/smartmonitoring/detail/{{asset.id}}">
      <h6>{{asset.name}}</h6>
    </a>
  </div>
  <div class="devEui">
    {{asset.things[0]?.devEui}}
  </div>
  <div class="subtitle" *ngIf="asset.location">
    <b>{{asset.location?.name}}</b>
  </div>
  <div class="column">
      <ul *ngIf="asset.things">
        <li class="thing">
            <strong>{{asset?.things[0]?.name}}</strong>
            <ul>
              <li>
                <b>Battery:</b>
                <span [ngClass]="{'empty': asset?.things[0]?.batteryPercentage < 10, 'low': asset?.things[0]?.batteryPercentage >= 10 && asset?.things[0]?.batteryPercentage < 20, 'ok': asset?.things[0]?.batteryPercentage >= 20}">
                  {{(asset?.things[0]?.batteryPercentage) ? (asset?.things[0]?.batteryPercentage+'%') : 'unknow'}}
                </span>
              </li>
              <li>
                <b>Fuel level:</b>
                <span [ngClass]="{'empty': asset?.things[0]?.sensors[0]?.value < 10, 'low': asset?.things[0]?.sensors[0]?.value >= 10 && asset?.things[0]?.sensors[0]?.value < 20, 'ok': asset?.things[0]?.sensors[0]?.value >= 20}">
                  {{(asset?.things[0]?.sensors[0]?.value) ? (asset?.things[0]?.sensors[0]?.value+'%') : 'unknow'}}
                </span>
              </li>
              <li>
                <b>Last refill:</b>
                <span>
                  {{(asset?.lastRefill?.timestamp) ? (asset?.lastRefill?.timestamp | date) : 'unknow'}}
                </span>
              </li>
              <li>
                  <b>Description:</b> {{asset?.description}}
              </li>
            </ul>
        </li>
      </ul>
  </div>
</div>

<div class="container" *ngIf="location">
  <div class="title">
    <h6>{{location.name}}</h6>
  </div>
  <div class="subtitle">
    <a (click)="openLocation()">Open this location</a>
  </div>
</div>